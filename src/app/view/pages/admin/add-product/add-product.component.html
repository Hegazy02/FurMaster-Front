<form [formGroup]="addProductForm" class="add-product-content d-flex gap-4">
  <div class="info w-50 bg-white p-4 rounded d-flex flex-column gap-4">
    <h2>Information</h2>
    <app-primary-form-input
      [formControlName]="'title'"
      [label]="'Title'"
      [required]="true"
      [placeholder]="'Title'"
      [isInvalid]="isInvalid(getFormControl('title'))"
    ></app-primary-form-input>
    <div class="description">
      <div>
        <label>Description</label>
        <span class="required"> *</span>
        <textarea
          formControlName="description"
          placeholder="Description"
          class="form-control"
          rows="4"
          [ngClass]="{
            'is-invalid': isInvalid(getFormControl('description'))
          }"
        ></textarea>
      </div>
    </div>

    <div class="prices d-flex gap-4">
      <app-primary-form-input
        class="w-50"
        [placeholder]="'Price'"
        [formControlName]="'price'"
        [label]="'Price'"
        [required]="true"
        [isInvalid]="isInvalid(getFormControl('price'))"
      ></app-primary-form-input>
      <app-primary-form-input
        class="w-50"
        [placeholder]="'Offer price'"
        [formControlName]="'offerPrice'"
        [label]="'Offer price'"
        [required]="false"
        [isInvalid]="isInvalid(getFormControl('offerPrice'))"
      ></app-primary-form-input>
    </div>
    <div class="category">
      <label>Category</label>
      <span class="required"> *</span>
      <app-primary-drop-down
        classes="w-100"
        [buttonText]="
          selectedCategory.title == '' ? 'Category' : selectedCategory.title
        "
        [options]="categories"
        (onClickChange)="onSelectCategory($event)"
      ></app-primary-drop-down>
    </div>
  </div>
  <div class="w-50 bg-white p-4 rounded" formArrayName="colors">
    <div class="colors-header d-flex justify-content-between gap-4 mb-4">
      <h2>Colors</h2>
      <i class="material-icons add" (click)="addColorVariant()">add</i>
    </div>
    @for (color of colorsArray.controls; track $index) {
    <div class="color-card d-flex justify-content-between gap-4">
      <app-color-selector
        class="w-100"
        [colors]="colors"
        [label]="'Select Product Color'"
        [isInvalid]="color.invalid && color.touched"
        [formGroupName]="$index"
        (colorSelected)="onColorSelected($event)"
      >
      </app-color-selector>
      @if (colorsArray.length > 1) {
      <i
        class="material-icons delete-color"
        (click)="removeColorVariant($index)"
        >close</i
      >
      }
    </div>
    }
  </div>
</form>
